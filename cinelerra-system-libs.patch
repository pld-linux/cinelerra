--- cinelerra-2.0/cinelerra/Makefile.orig	2005-09-07 23:25:21.000000000 +0200
+++ cinelerra-2.0/cinelerra/Makefile	2005-11-01 13:25:17.219148368 +0100
@@ -1,27 +1,27 @@
 include ../global_config
 
-ALSA_DIR := ../alsa-lib-1.0.8
-AVC_DIR := $(shell expr ../libavc1394* )
-DV_DIR := ../quicktime/libdv-0.104
-EXR_DIR := ../OpenEXR-1.2.1/
-FFMPEG_DIR := $(shell expr ../quicktime/ffmpeg* )
-JPEG_DIR := $(shell expr ../quicktime/jpeg-mmx* )
-LAME_DIR := ../quicktime/lame-3.93.1/include
-LIBIEC_DIR := $(shell expr ../libiec61883* )
-LIBRAW_DIR := $(shell expr ../libraw1394* )
-OGG_DIR := $(shell expr ../quicktime/libogg* )
-SNDFILE_DIR := $(shell expr ../libsndfile* )
-THEORA_DIR := $(shell expr ../libtheora* )
-TIFF_DIR := ../tiff-v3.5.7
+#ALSA_DIR := ../alsa-lib-1.0.8
+#AVC_DIR := $(shell expr ../libavc1394* )
+#DV_DIR := ../quicktime/libdv-0.104
+#EXR_DIR := ../OpenEXR-1.2.1/
+#FFMPEG_DIR := $(shell expr ../quicktime/ffmpeg* )
+#JPEG_DIR := $(shell expr ../quicktime/jpeg-mmx* )
+#LAME_DIR := ../quicktime/lame-3.93.1/include
+#LIBIEC_DIR := $(shell expr ../libiec61883* )
+#LIBRAW_DIR := $(shell expr ../libraw1394* )
+#OGG_DIR := $(shell expr ../quicktime/libogg* )
+#SNDFILE_DIR := $(shell expr ../libsndfile* )
+#THEORA_DIR := $(shell expr ../libtheora* )
+#TIFF_DIR := ../tiff-v3.5.7
 TOOLAME_DIR := ../toolame-02l
-UUID_DIR := ../uuid
-VORBIS_DIR := $(shell expr ../quicktime/libvorbis* )
+#UUID_DIR := ../uuid
+#VORBIS_DIR := $(shell expr ../quicktime/libvorbis* )
 
-AVC_LIB := $(AVC_DIR)/libavc1394/.libs/libavc1394.a $(AVC_DIR)/librom1394/.libs/librom1394.a
-RAW_LIB := $(LIBRAW_DIR)/src/.libs/libraw1394.a
-IEC_LIB := $(LIBIEC_DIR)/src/.libs/libiec61883.a
-SNDFILE_LIB := $(SNDFILE_DIR)/src/.libs/libsndfile.a
-THEORA_LIB := $(THEORA_DIR)/lib/.libs/libtheora.a
+AVC_LIB := -lavc1394 -lrom1394
+RAW_LIB := -lraw1394
+IEC_LIB := -liec61883
+SNDFILE_LIB := -lsndfile
+THEORA_LIB := -ltheora
 
 OBJS = \
 	$(OBJDIR)/aattachmentpoint.o \
@@ -305,29 +305,17 @@
 #endif
 
 ifeq ($(HAVE_ALSA), y)
-ALSA_CFLAGS := -DHAVE_ALSA -I$(ALSA_DIR)/include
-ALSA_LIBS := $(ALSA_DIR)/$(OBJDIR)/libasound.a
+ALSA_CFLAGS := -DHAVE_ALSA
+ALSA_LIBS := -lasound
 endif
 
 
 
 STATICLIBS = \
-	$(ALSA_LIBS) \
-	$(AVC_LIB) \
-	$(RAW_LIB) \
-	$(IEC_LIB) \
-	../quicktime/$(OBJDIR)/libquicktime.a \
-        $(ESOUNDLIBS) \
-	$(EXR_DIR)/$(OBJDIR)/libexr.a \
-	$(TIFF_DIR)/$(OBJDIR)/libtiff.a \
 	../guicast/$(OBJDIR)/libguicast.a \
-	../libmpeg3/$(OBJDIR)/libmpeg3.a \
-	$(SNDFILE_LIB) \
-	$(UUID_DIR)/$(OBJDIR)/libuuid.a \
 	../mpeg2enc/$(OBJDIR)/mpeg2enc.a \
 	$(TOOLAME_DIR)/$(OBJDIR)/toolame.a \
-	$(THEME_DATA) \
-	$(THEORA_LIB)
+	$(THEME_DATA)
 
 LIBS := \
 	-L./ \
@@ -344,6 +332,18 @@
 
 
 LIBS += \
+	$(ALSA_LIBS) \
+	$(AVC_LIB) \
+	$(RAW_LIB) \
+	$(IEC_LIB) \
+	-lquicktime -lvorbisfile \
+        $(ESOUNDLIBS) \
+	-lIlmImf -lImath -lHalf -lIex \
+	-ltiff \
+	-lmpeg3 \
+	$(SNDFILE_LIB) \
+	-luuid \
+	$(THEORA_LIB) \
 	$(GLLIBS) \
 	-lX11 \
 	-lXext \
@@ -361,29 +361,22 @@
 
 CFLAGS += \
 	-I../guicast \
-	-I../quicktime \
-	-I$(JPEG_DIR) \
-	-I$(DV_DIR) \
-	-I$(OGG_DIR)/include \
-	-I$(VORBIS_DIR)/include \
-	-I$(LIBRAW_DIR)/ \
-	-I$(AVC_DIR) \
-	-I$(LIBIEC_DIR)/src/ \
-	-I$(TIFF_DIR)/libtiff \
-	-I$(UUID_DIR) \
+	-I/usr/include/quicktime \
+	-I/usr/include/libdv \
+	-I/usr/include/libraw1394 \
+	-I/usr/include/libiec61883 \
+	-I/usr/include/uuid \
 	-I$(TOOLAME_DIR) \
-	-I$(LAME_DIR) \
-	-I../audiofile \
-	-I../libmpeg3 \
-	-I$(SNDFILE_DIR)/src \
+	-I/usr/include/lame \
+	-I/usr/include/libmpeg3 \
 	$(ESOUNDCFLAGS) \
 	$(ALSA_CFLAGS) \
-	-I$(FFMPEG_DIR)/libavcodec \
-	-I$(THEORA_DIR)/include
+	-I/usr/include/ffmpeg \
+	-I/usr/include/theora
 
 
 # Speed up linking with this linking sequence
-ifeq ($(OBJDIR), alpha)
+ifeq ($(OBJDIR), alpha-ccc)
 
 
 
@@ -489,7 +482,7 @@
 
 $(FILEEXR): fileexr.C
 	@echo C++ $*.o
-	@$(CC) -c `cat $(OBJDIR)/c_flags` -I$(EXR_DIR)IlmImf -I$(EXR_DIR)Imath -I$(EXR_DIR)Iex -I$(EXR_DIR)Half $(subst $(OBJDIR)/,, $*.C) -o $*.o
+	@$(CC) -c `cat $(OBJDIR)/c_flags` -I/usr/include/OpenEXR $(subst $(OBJDIR)/,, $*.C) -o $*.o
 
 $(DCRAW): dcraw.c
 	@echo CC $*.o
--- cinelerra-1.1.8/mpeg2enc/Makefile.orig	2003-10-14 09:54:43.000000000 +0200
+++ cinelerra-1.1.8/mpeg2enc/Makefile	2003-11-12 22:23:56.387225920 +0100
@@ -1,6 +1,6 @@
 include ../global_config
 CC = gcc
-CFLAGS += -I../libmpeg3 -I../quicktime
+CFLAGS += -I/usr/include/libmpeg3 -I/usr/include/quicktime
 
 
 ifeq ($(OBJDIR), i686)
@@ -48,8 +48,8 @@
 	$(OBJDIR)/writepic.o
 
 LIBS = \
-	../../quicktime/$(OBJDIR)/libquicktime.a \
-	../../libmpeg3/$(OBJDIR)/libmpeg3.a \
+	-lquicktime \
+	-lmpeg3 \
 	-lpthread \
 	-lpng \
 	-lz \
--- cinelerra-1.1.8/mplexlo/Makefile.orig	2003-10-14 09:54:14.000000000 +0200
+++ cinelerra-1.1.8/mplexlo/Makefile	2003-11-12 22:06:01.235673800 +0100
@@ -2,12 +2,12 @@
 
 OBJS = $(OBJDIR)/mplex.o
 CC = gcc
-CFLAGS += -I../libmpeg3
+CFLAGS += -I/usr/include/libmpeg3
 
 OUTPUT := $(OBJDIR)/mplexlo
 
 $(OUTPUT): $(OBJS)
-	$(CC) -o $(OUTPUT) $(OBJS) ../libmpeg3/$(OBJDIR)/libmpeg3.a -lpthread -lm
+	$(CC) -o $(OUTPUT) $(OBJS) -lmpeg3 -lpthread -lm
 
 $(OBJS):
 	$(CC) -c $(CFLAGS) $(subst $(OBJDIR)/,, $*.c) -o $*.o
--- cinelerra-2.0/plugins/titler/Makefile.orig	2005-05-29 02:01:50.000000000 +0200
+++ cinelerra-2.0/plugins/titler/Makefile	2005-11-01 13:29:05.682416672 +0100
@@ -8,19 +8,18 @@
 
 
 OUTPUT_PLUGIN = ../$(OBJDIR)/titler.plugin
-FREETYPE_DIR = ../../freetype-2.1.4
-CFLAGS += -I$(FREETYPE_DIR)/include -I../../
+FREETYPE_DIR =
+CFLAGS += -I/usr/include/freetype2 -I../../
 
 
 $(OUTPUT_PLUGIN): $(OBJS)
 	$(LDLINKER) -o $(OUTPUT_PLUGIN) \
 		$(OBJS) \
-		$(FREETYPE_DIR)/$(OBJDIR)/libfreetype.a
-	strip $(OUTPUT_PLUGIN)
+		-lfreetype
 
 include ../../plugin_config
 
-inst:
+install:
 	cp $(OUTPUT_PLUGIN) $(PLUGINDIR)
 	mkdir -p $(PLUGINDIR)/fonts
 	cp fonts/* $(PLUGINDIR)/fonts
--- cinelerra-1.1.8/global_config.orig	2003-10-29 10:05:08.000000000 +0100
+++ cinelerra-1.1.8/global_config	2003-11-12 22:22:09.103535520 +0100
@@ -24,7 +24,7 @@
 
 ############################# FINAL DESTINATION FOR INSTALLATION BINARIES
 
-PREFIX = /usr/
+PREFIX = /usr
 LIBPREFIX = $(PREFIX)/lib
 
 ########################## THE COMPILER
@@ -50,8 +50,8 @@
 
 
 ifeq ($(HAVE_ESOUND), y)
-ESOUNDCFLAGS = -DHAVE_ESOUND -I../esound
-ESOUNDLIBS = ../esound/$(OBJDIR)/libesound.a
+ESOUNDCFLAGS = -DHAVE_ESOUND
+ESOUNDLIBS = -lesd
 endif
 
 
@@ -59,8 +59,8 @@
 CFLAGS += -D_LARGEFILE_SOURCE -D_LARGEFILE64_SOURCE -D_FILE_OFFSET_BITS=64
 #CFLAGS += -I.      # Caused fileavi.C to fail
 
-FREETYPE_DIR = ../../freetype-2.1.4
-CFLAGS += -I$(FREETYPE_DIR)/include -I../../
+FREETYPE_DIR =
+CFLAGS += -I/usr/include/freeetype2
 
 ifeq ($(HAVE_OSS), y)
 CFLAGS += -DHAVE_OSS
@@ -79,7 +79,7 @@
 CFLAGS += $(ALSA_CFLAGS)
 endif
 
-ifeq ($(OBJDIR), alpha)
+ifeq ($(OBJDIR), alpha-ccc)
 CXXREPOSITORY = cxx_repository/*.o
 endif
 
--- cinelerra-1.1.8/plugin_config.orig	2003-10-14 09:53:58.000000000 +0200
+++ cinelerra-1.1.8/plugin_config	2003-11-12 22:22:42.189505688 +0100
@@ -1,6 +1,6 @@
 CFLAGS += -I../ -I../../cinelerra \
 	-I../../guicast \
-	-I../../quicktime \
+	-I/usr/include/quicktime \
 	-I../colors \
 	-fPIC
 
--- cinelerra-1.2.0/cinelerra/audioalsa.h.orig	2003-10-14 09:53:59.000000000 +0200
+++ cinelerra-1.2.0/cinelerra/audioalsa.h	2004-06-05 10:26:45.584744408 +0200
@@ -5,7 +5,7 @@
 #include "audiodevice.h"
 
 #ifdef HAVE_ALSA
-#include "asoundlib.h"
+#include <alsa/asoundlib.h>
 
 class AudioALSA : public AudioLowLevel
 {
--- cinelerra-2.0/guicast/Makefile.orig	2005-11-01 14:30:52.865839000 +0100
+++ cinelerra-2.0/guicast/Makefile	2005-11-01 14:41:01.161364152 +0100
@@ -2,9 +2,9 @@
 
 # Need the freetype include that matches the X server for Xft rendering
 #FREETYPE_DIR := ..//usr/X11R6/include/freetype2
-FREETYPE_DIR := $(shell expr ../freetype*/include )
+#FREETYPE_DIR := $(shell expr ../freetype*/include )
 
-CFLAGS += -I../quicktime -I$(FREETYPE_DIR)
+CFLAGS += -I/usr/include/quicktime -I/usr/include/freetype2
 
 # must only define here so applications using libpng don't see any of the XFT
 # includes at all.  They use a conflicting setjmp.
--- cinelerra-2.0/cinelerra/avc1394control.h.orig	2005-09-11 22:13:22.000000000 +0200
+++ cinelerra-2.0/cinelerra/avc1394control.h	2005-11-01 16:49:01.785731768 +0100
@@ -3,11 +3,11 @@
 
 
 #include "bcwindowbase.inc"
-#include "librom1394/rom1394.h"
-#include "libavc1394/avc1394.h"
-#include "libavc1394/avc1394_vcr.h"
+#include <libavc1394/rom1394.h>
+#include <libavc1394/avc1394.h>
+#include <libavc1394/avc1394_vcr.h>
 #include "mutex.inc"
-#include "libraw1394/raw1394.h"
+#include <libraw1394/raw1394.h>
 #include <sys/types.h>
 #include <stdio.h>
 #include <errno.h>
--- cinelerra-2.0/cinelerra/fileogg.h.orig	2005-09-07 23:25:21.000000000 +0200
+++ cinelerra-2.0/cinelerra/fileogg.h	2005-11-01 17:03:29.505818264 +0100
@@ -1,7 +1,7 @@
 #ifndef FILEOGG_H
 #define FILEOGG_H
 
-#include "../config.h"
+#include "../hvirtual_config.h"
 #include "filebase.h"
 #include "file.inc"
 
